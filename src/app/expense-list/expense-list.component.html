<h2 class="text-primary mb-4">Expenses</h2>

<!-- Loading Indicator -->
<div *ngIf="loading" class="text-center text-primary">
    <p>Loading expenses...</p>
</div>

<!-- Error Message -->
<div *ngIf="error" class="alert alert-danger" role="alert">
    {{ error }}
</div>

<!-- Expense List -->
<p-table [value]="expenses"
         [paginator]="expenses.length > 5"
         [rows]="5"
         responsiveLayout="scroll"
         class="expense-table">
    <ng-template pTemplate="header">
        <tr>
            <th>User(s) Involved</th> <!-- ✅ Fixed -->
            <th>Name</th>
            <th>Total Amount</th>
            <th>Owed Amount</th> <!-- ✅ New column -->
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-expense>
        <tr>
            <td>{{ expense.usersInvolved }}</td> <!-- ✅ Show users -->
            <td>{{ expense.description }}</td>
            <td>{{ expense.amount | currency }}</td>
            <td>{{ expense.owedAmounts }}</td> <!-- ✅ Show owed amounts -->
            <td>
                <button pButton icon="pi pi-trash"
                        class="p-button-danger p-button-rounded"
                        (click)="deleteExpense(expense.id)">
                </button>
            </td>
        </tr>
    </ng-template>
</p-table>
